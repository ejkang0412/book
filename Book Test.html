<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Book Test</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #ffffff;
      color: #000000;
    }

    header {
      background-color: #ffffff;
      text-align: center;
      padding: 30px 0;
    }

    .logo {
      width: 300px;
      height: auto;
    }

    nav {
      display: flex;
      justify-content: center;
      gap: 60px;
      padding: 15px 0;
      background-color: #ffffff;
      font-size: 1.1rem;
      font-weight: 500;
    }

    nav a {
      text-decoration: none;
      color: #000;
      transition: color 0.3s ease;
    }

    nav a:hover {
      color: #888;
    }

    .container {
      max-width: 700px;
      margin: 50px auto;
      padding: 20px;
      text-align: center;
    }

    h1 {
      margin-bottom: 20px;
    }

    .question {
      font-size: 1.2rem;
      margin-bottom: 15px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .options button {
      padding: 10px 20px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f7f7f7;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .options button:hover {
      background-color: #eaeaea;
    }

    .result {
      font-size: 1.2rem;
      margin-top: 30px;
    }

    .book-recommendation {
      margin-top: 20px;
    }

    .book-recommendation img {
      max-width: 100px;
      margin: 10px;
    }

    /* 다시 테스트하기 버튼 스타일 */
    #restartBtn {
      margin-top: 30px;
      padding: 10px 30px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f7f7f7;
      cursor: pointer;
      transition: background-color 0.3s ease;
      display: none; /* 처음엔 숨김 */
    }

    #restartBtn:hover {
      background-color: #eaeaea;
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="프렌즈 로고" class="logo" />
  </header>

  <nav>
    <a href="Book Test.html">Book Test</a>
    <a href="cardnews.html">CardNews</a>
    <a href="책서림.html">책서림</a>
    <a href="테마전시.html">테마전시</a>
    <a href="https://www.youtube.com/@kgulibrary8781/featured" target="_blank">유튜브</a>
  </nav>

  <div class="container">
    <h1>나에게 어울리는 책은?</h1>
    <div id="quiz">
      <div class="question" id="question">질문이 여기에 표시됩니다</div>
      <div class="options" id="options"></div>
    </div>
    <div class="result" id="result"></div>
    <div class="book-recommendation" id="bookRecommendation"></div>
    <button id="restartBtn">다시 테스트하기</button>
  </div>

  <script>
    const questions = [
      {
        question: "어떤 시간을 가장 좋아하나요?",
        options: [
          { text: "고요한 아침", value: "감성" },
          { text: "활기찬 낮", value: "실용" },
          { text: "생각이 깊어지는 밤", value: "철학" }
        ]
      },
      {
        question: "책을 고를 때 가장 중요하게 여기는 것은?",
        options: [
          { text: "감정을 자극하는 이야기", value: "감성" },
          { text: "생활에 도움되는 팁", value: "실용" },
          { text: "사고의 깊이", value: "철학" }
        ]
      },
      {
        question: "어떤 장소에서 책을 읽고 싶나요?",
        options: [
          { text: "따뜻한 조명의 카페", value: "감성" },
          { text: "목표가 뚜렷한 공부방", value: "실용" },
          { text: "조용한 도서관 구석", value: "철학" }
        ]
      }
    ];

    let currentQuestion = 0;
    let scores = { 감성: 0, 실용: 0, 철학: 0 };

    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const resultEl = document.getElementById("result");
    const bookRecEl = document.getElementById("bookRecommendation");
    const restartBtn = document.getElementById("restartBtn");

    function showQuestion() {
      // 질문과 옵션 초기화
      const q = questions[currentQuestion];
      questionEl.textContent = q.question;
      optionsEl.innerHTML = "";
      resultEl.textContent = "";
      bookRecEl.innerHTML = "";

      restartBtn.style.display = "none";

      q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.textContent = option.text;
        btn.onclick = () => {
          scores[option.value]++;
          currentQuestion++;
          if (currentQuestion < questions.length) {
            showQuestion();
          } else {
            showResult();
          }
        };
        optionsEl.appendChild(btn);
      });
    }

    function showResult() {
      const resultKey = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
      const resultText = {
        감성: "감성을 자극하는 문학 작품이 어울려요!",
        실용: "생활에 도움이 되는 실용서를 추천해요!",
        철학: "깊이 있는 사고를 위한 철학서가 어울려요!"
      };

      const bookImages = {
        감성: ["book1.jpg", "book2.jpg"],
        실용: ["book3.jpg", "book4.jpg"],
        철학: ["book5.jpg", "book6.jpg"]
      };

      questionEl.textContent = "테스트가 완료되었습니다.";
      optionsEl.innerHTML = "";
      resultEl.textContent = resultText[resultKey];

      bookRecEl.innerHTML = "<h3>추천 도서</h3>";
      bookImages[resultKey].forEach(src => {
        const img = document.createElement("img");
        img.src = src;
        img.alt = "추천 도서";
        bookRecEl.appendChild(img);
      });

      restartBtn.style.display = "inline-block";
    }

    restartBtn.onclick = () => {
      currentQuestion = 0;
      scores = { 감성: 0, 실용: 0, 철학: 0 };
      showQuestion();
    };

    showQuestion();
  </script>
</body>
</html>
